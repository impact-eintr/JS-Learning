<!--********************************************************************
* CopyrightÂ© 2000 - 2021 SuperMap Software Co.Ltd. All rights reserved.
*********************************************************************-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title data-i18n="resources.title_mapQueryBySQL"></title>
    <script type="text/javascript" src="../js/include-web.js"></script>
</head>
<body style=" margin: 0;overflow: hidden;background: #fff;width: 100%;height:100%;position: absolute;top: 0;">
<div id="map" style="margin:0 auto;width: 100%;height: 100%"></div>
<script type="text/javascript" src="../../dist/leaflet/include-leaflet.js"></script>
<script type="text/javascript">
    var host = window.isLocal ? window.server : "http://192.168.23.169:8090";
    console.log(host);
    
    var map, resultLayer,
        url = host + "/iserver/services/map-ugcv5-ShanXi2/rest/maps/ShanXi";
	var crs = L.Proj.CRS("EPSG:4326", {
        origin: [110.229086582976, 40.740465452548],
        resolutions:[0.007534432296534994, 0.0047535850451324675, 0.0023767925225662337, 0.0011883962612831169, 0.0005941981306415584, 0.0002970990653207792, 0.0001485495326603896, 0.00008912971959623375, 0.0000371373831650974, 0.000018569879978809982, 0.000009283751593143707]
    });

    map = L.map('map', {
        crs: crs,
        center: [37.6620371595705,112.3952089111035],

        maxZoom: 10,
        zoom: 0
    });
    L.supermap.tiledMapLayer(url).addTo(map);
    //query();

    //function query() {
    //    var param = new SuperMap.QueryBySQLParameters({
    //        queryParams: {
    //            name: "Capitals@World.1",
    //            attributeFilter: "SMID < 10"
    //        }
    //    });
    //    L.supermap
    //        .queryService(url)
    //        .queryBySQL(param, function (serviceResult) {
    //            var result = serviceResult.result;
    //            resultLayer = L.geoJSON(result.recordsets[0].features).addTo(map);
    //        });
    //}
</script>
</body>
</html>
